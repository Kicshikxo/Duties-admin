<!DOCTYPE html>
 <html lang = 'ru-RU'> 

 <head>
 	<meta charset="UTF-8">
 	<meta name="theme-color" content="#47a19d">
 	<meta name = 'viewport' content = 'width = device-width, initial-scale = 1.0, maximum-scale = 1.0, minimum-scale = 1.0, user-scalable = no, minimal-ui'>
 	<link rel = 'icon' href = 'styles/img/favicon.ico' type = 'image/x-icon'>
 	<link rel = 'shortcut icon' href = 'styles/img/favicon.ico' type = 'image/x-icon'>
 	<link rel = 'alternate' href = 'styles/img/favicon.ico'>
 	<title>–î–µ–∂—É—Ä—Å—Ç–≤–∞</title>
 	<link rel="stylesheet" type="text/css" href="styles/style.css" />
	<script>database = JSON.parse('<%-JSON.stringify(database) %>')</script>
 </head>

 <body>
 
	<div id = 'add-form' class = 'form'>
		<form action = '/add' method = 'post' onsubmit = 'document.getElementById("add-form-submit-button").style.pointerEvents = "none"'>
			<select name = 'studentName1' class = 'form-selector' required>
				<option value = ''>–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</option>
				<option value = '–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å'>–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å</option>
				<option value = '–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π'>–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π</option>
				<option value = '–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º'>–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º</option>
				<option value = '–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π'>–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π'>–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π</option>
				<option value = '–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª'>–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª</option>
				<option value = '–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π'>–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π</option>
				<option value = '–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä'>–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä</option>
				<option value = '–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤'>–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤</option>
				<option value = '–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω'>–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω</option>
				<option value = '–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π'>–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å'>–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å</option>
				<option value = '–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å'>–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å</option>
				<option value = '–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω'>–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω</option>
				<option value = '–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤'>–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤</option>
				<option value = '–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω'>–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω</option>
				<option value = '–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π'>–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π'>–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π</option>
			</select><br>
			<select name = 'studentName2' class = 'form-selector'>
				<option value = ''>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ç–æ—Ä–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</option>
				<option value = '–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å'>–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å</option>
				<option value = '–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π'>–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π</option>
				<option value = '–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º'>–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º</option>
				<option value = '–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π'>–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π'>–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π</option>
				<option value = '–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª'>–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª</option>
				<option value = '–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π'>–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π</option>
				<option value = '–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä'>–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä</option>
				<option value = '–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤'>–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤</option>
				<option value = '–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω'>–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω</option>
				<option value = '–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π'>–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å'>–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å</option>
				<option value = '–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å'>–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å</option>
				<option value = '–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω'>–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω</option>
				<option value = '–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤'>–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤</option>
				<option value = '–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω'>–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω</option>
				<option value = '–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π'>–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π'>–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π</option>
			</select><br>
			<input type = 'date' name = 'date' id = 'form-date' required></input>
			<input type = 'submit' id = 'add-form-submit-button' class = 'submit-button' value = '–î–æ–±–∞–≤–∏—Ç—å'>
		</form>
	</div>
	
	<div id = 'remove-form' class = 'form'>
		<form action = '/remove' method = 'post' onsubmit = 'document.getElementById("remove-form-submit-button").style.pointerEvents = "none"'>
			<select name = 'studentName' class = 'form-selector' id = 'remove-form-student-selector' required>
				<option value = ''>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞</option>
				<option value = '–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å'>–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å</option>
				<option value = '–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π'>–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π</option>
				<option value = '–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º'>–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º</option>
				<option value = '–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π'>–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π'>–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π</option>
				<option value = '–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª'>–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª</option>
				<option value = '–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π'>–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π</option>
				<option value = '–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä'>–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä</option>
				<option value = '–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤'>–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤</option>
				<option value = '–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω'>–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω</option>
				<option value = '–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π'>–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å'>–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å</option>
				<option value = '–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å'>–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å</option>
				<option value = '–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω'>–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω</option>
				<option value = '–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤'>–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤</option>
				<option value = '–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω'>–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω</option>
				<option value = '–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π'>–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π</option>
				<option value = '–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π'>–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π</option>
			</select><br>
			<select name = 'date' class = 'form-selector' id = 'remove-form-date-selector' required>
				<option value = ''>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</option>
			</select><br>
			<input type = 'submit' id = 'remove-form-submit-button' class = 'submit-button' value = '–£–¥–∞–ª–∏—Ç—å'>
		</form>
	</div>
 
	<header id = 'header'>
		<div id = 'header-title'>–î–µ–∂—É—Ä—Å—Ç–≤–∞</div>
		<button id = 'remove-button' onclick = 'toggleRemoveDate()'></button>
		<button id = 'add-button'    onclick = 'toggleAddNewDate()'></button>
		<button id = 'reload-button' onclick = 'window.parent.postMessage("","*"); window.location.reload()'>üîÅ</button>
	</header>

	<div id = 'main-block'>
		

		<div id = 'info-block'></div>

		<div id = 'table-block'>
			<div>
				<div id = 'rating-block'>
					<table id = 'rating-table'>
						<tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
					</table>

					<table id = 'names-table'>
						<tr><td class = 'student-cell'>–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤<br>–î–µ–Ω–∏—Å</td></tr>
						<tr><td class = 'student-cell'>–ë—É–≤–∏–Ω<br>–ê–ª–µ–∫—Å–µ–π</td></tr>
						<tr><td class = 'student-cell'>–î—Ä—é—á–µ–Ω–∫–æ<br>–ê—Ä—Ç—ë–º</td></tr>
						<tr><td class = 'student-cell'>–ó–∞–∂–∏–≤–∏—Ö–∏–Ω<br>–î–º–∏—Ç—Ä–∏–π</td></tr>
						<tr><td class = 'student-cell'>–ö—Ä–∏–≤–¥–∏–Ω<br>–°–µ—Ä–≥–µ–π</td></tr>
						<tr><td class = 'student-cell'>–ö—Ä—é—á–∫–∏–Ω<br>–î–∞–Ω–∏–ª</td></tr>
						<tr><td class = 'student-cell'>–ö—É–∑–Ω–µ—Ü–æ–≤<br>–í–∞–ª–µ—Ä–∏–π</td></tr>
						<tr><td class = 'student-cell'>–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π<br>–í–ª–∞–¥–∏–º–∏—Ä</td></tr>
						<tr><td class = 'student-cell'>–ú–∞—à–Ω–∏–Ω<br>–í–ª–∞–¥–∏—Å–ª–∞–≤</td></tr>
						<tr><td class = 'student-cell'>–û–∑–µ—Ä–æ–≤<br>–†–æ–º–∞–Ω</td></tr>
						<tr><td class = 'student-cell'>–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π<br>–î–º–∏—Ç—Ä–∏–π</td></tr>
						<tr><td class = 'student-cell'>–°–∫–æ—Ä—è—Ç–∏–Ω<br>–ò–≥–æ—Ä—å</td></tr>
						<tr><td class = 'student-cell'>–°–ø–∏—Ü—ã–Ω<br>–î–µ–Ω–∏—Å</td></tr>
						<tr><td class = 'student-cell'>–¢—è—Ä–∏–Ω<br>–ë–æ–≥–¥–∞–Ω</td></tr>
						<tr><td class = 'student-cell'>–§—É—Ä—Å–∏–Ω<br>–í–ª–∞–¥–∏—Å–ª–∞–≤</td></tr>
						<tr><td class = 'student-cell'>–®–µ–≤—á–µ–Ω–∫–æ<br>–ë–æ–≥–¥–∞–Ω</td></tr>
						<tr><td class = 'student-cell'>–®–∫–∏–ø–µ—Ä–æ–≤<br>–î–º–∏—Ç—Ä–∏–π</td></tr>
						<tr><td class = 'student-cell'>–Ø–∫–æ–≤–ª–µ–≤<br>–°–µ—Ä–≥–µ–π</td></tr>
						<tr><td class = 'student-cell' style = 'border-color: #0000'></td></tr>
					</table>
				</div>
			</div>
		</div>

		<div id = 'open-fullscreen-block'>
			<div id = 'open-fullscreen' onclick = 'toggleAddNewDate()'>+</div>
			<div id = 'open-fullscreen' onclick = 'toggleRemoveDate()'>-</div>
		</div>

	</div>

	<script>
		
		function id(id){return document.getElementById(id)}
		
		function toggleAddNewDate(){
			if (id('add-form').style.transform == 'scale(1)'){
				id('add-form').style.transform =  'scale(0)'
				id('add-button').classList.remove('opened')

				id('remove-form').style.transform =  'scale(0)'
				id('remove-button').classList.remove('opened')
				window.onclick = null
			}
			else {
				id('add-form').style.transform =  'scale(1)'
				id('add-button').classList.add('opened')
				
				id('remove-form').style.transform =  'scale(0)'
				id('remove-button').classList.remove('opened')
				window.onclick = null
				setTimeout(function(){
					window.onclick = function(e){
						if (!id('add-form').contains(event.target)) {
							id('add-form').style.transform =  'scale(0)'
							id('add-button').classList.remove('opened')

							id('remove-form').style.transform =  'scale(0)'
							id('remove-button').classList.remove('opened')
							window.onclick = null
						}
					}
				})
			}
		}
		
		function toggleRemoveDate(){
			if (id('remove-form').style.transform == 'scale(1)'){
				id('remove-form').style.transform =  'scale(0)'
				id('remove-button').classList.remove('opened')
				
				id('add-form').style.transform =  'scale(0)'
				id('add-button').classList.remove('opened')
				window.onclick = null
			}
			else {
				id('remove-form').style.transform =  'scale(1)'
				id('remove-button').classList.add('opened')
				
				id('add-form').style.transform =  'scale(0)'
				id('add-button').classList.remove('opened')
				window.onclick = null
				setTimeout(function(){
					window.onclick = function(e){
						if (!id('remove-form').contains(event.target)) {
							id('remove-form').style.transform =  'scale(0)'
							id('remove-button').classList.remove('opened')
							
							id('add-form').style.transform =  'scale(0)'
							id('add-button').classList.remove('opened')
							window.onclick = null
						}
					}
				})
			}
		}
		
		id('remove-form-student-selector').oninput = function(){
			id('remove-form-date-selector').innerHTML = '<option value = "">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</option>'
			for (i of database){
				if (i.name == this.value){
					id('remove-form-date-selector').innerHTML = '<option value = "">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</option>'
					for (j of i.dates) id('remove-form-date-selector').innerHTML += `<option value = '${j}'>${j}</option>`
				}
			}
		}

		ratingTable = id('rating-table')
		ratingTable.onmousedown = function(){
			startX = this.scrollLeft + event.pageX
		    startY = this.scrollTop  + event.pageY
		    ratingTable.onmousemove = function(){
		    	this.scrollLeft = startX - event.pageX
		        this.scrollTop  = startY - event.pageY
		        id('names-table').scrollTop = this.scrollTop
		        return false
		    }
		}
		window.onmouseup = function(){
			ratingTable.onmousemove = function(){return}
		}

		ratingTable.onscroll = function(){
			id('names-table').scrollTop = ratingTable.scrollTop
		}

		nameToNumber = {
			'–ë–æ–≥–æ—Ä–∞–¥–Ω–∏–∫–æ–≤ –î–µ–Ω–∏—Å': 0,
			'–ë—É–≤–∏–Ω –ê–ª–µ–∫—Å–µ–π': 1,
			'–î—Ä—é—á–µ–Ω–∫–æ –ê—Ä—Ç—ë–º': 2,
			'–ó–∞–∂–∏–≤–∏—Ö–∏–Ω –î–º–∏—Ç—Ä–∏–π': 3,
			'–ö—Ä–∏–≤–¥–∏–Ω –°–µ—Ä–≥–µ–π': 4,
			'–ö—Ä—é—á–∫–∏–Ω –î–∞–Ω–∏–ª': 5,
			'–ö—É–∑–Ω–µ—Ü–æ–≤ –í–∞–ª–µ—Ä–∏–π': 6,
			'–ú–∞—Ö–æ–≤–∏—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä': 7,
			'–ú–∞—à–Ω–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤': 8,
			'–û–∑–µ—Ä–æ–≤ –†–æ–º–∞–Ω': 9,
			'–ü–æ–ª—ã–Ω–æ–≤—Å–∫–∏–π –î–º–∏—Ç—Ä–∏–π': 10,
			'–°–∫–æ—Ä—è—Ç–∏–Ω –ò–≥–æ—Ä—å': 11,
			'–°–ø–∏—Ü—ã–Ω –î–µ–Ω–∏—Å': 12,
			'–¢—è—Ä–∏–Ω –ë–æ–≥–¥–∞–Ω': 13,
			'–§—É—Ä—Å–∏–Ω –í–ª–∞–¥–∏—Å–ª–∞–≤': 14,
			'–®–µ–≤—á–µ–Ω–∫–æ –ë–æ–≥–¥–∞–Ω': 15,
			'–®–∫–∏–ø–µ—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π': 16,
			'–Ø–∫–æ–≤–ª–µ–≤ –°–µ—Ä–≥–µ–π': 17
		}
		
		daysToNumber = {
			0: '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ',
			1: '–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫',
			2: '–≤—Ç–æ—Ä–Ω–∏–∫',
			3: '—Å—Ä–µ–¥–∞',
			4: '—á–µ—Ç–≤–µ—Ä–≥',
			5: '–ø—è—Ç–Ω–∏—Ü–∞',
			6: '—Å—É–±–±–æ—Ç–∞'
		}

		monthToNumber = {
			'–°–µ–Ω—Ç—è–±—Ä—å': '0',
			'–û–∫—Ç—è–±—Ä—å' : '1',
			'–ù–æ—è–±—Ä—å'  : '2',
			'–î–µ–∫–∞–±—Ä—å' : '3',
			'–Ø–Ω–≤–∞—Ä—å'  : '4',
			'–§–µ–≤—Ä–∞–ª—å' : '5',
			'–ú–∞—Ä—Ç'    : '6',
			'–ê–ø—Ä–µ–ª—å'  : '7',
			'–ú–∞–π'     : '8'
		}
		
		tr = document.getElementsByTagName('tr')
		
		function fillTable(){
			id('rating-table').innerHTML = '<tr></tr>'.repeat(18)
			onDutyToday = []
			for (i of database){
				if (i.dates.length == 0){
					tr[nameToNumber[i.name]].innerHTML += "<td class = 'mark blank'></td>"
				}
				else for (j of i.dates){
					tr[nameToNumber[i.name]].innerHTML += `<td class = 'mark' value = '${j}'><div><div>${j.split('.').slice(0,2).join('.')}</div><small>${daysToNumber[new Date(j.split('.').reverse().join('.')).getDay()]}</small></div></td>`
					if (j == `${new Date().getDate()}.${new Date().getMonth()+1}.${new Date().getFullYear()}`) onDutyToday.push(i.name)
				}
			}
			
			// –ü–æ–¥—Å—á—ë—Ç –ø—Ä–æ—à–µ–¥–Ω–∏—Ö –¥–Ω–µ–π (–∫—Ä–∏–≤–æ)
			let td = document.querySelectorAll('.mark:not(.blank)')
			for (i of td) {
				i.onmousedown = i.ontouchstart = function(){
					if ((function(){
						for (j of td)
							if (j.children[0].children[1].innerText == '–î–Ω–µ–π –Ω–∞–∑–∞–¥'){return false}
						return true
					})())
						this.innerHTML = `<div><div>${~~((new Date() - new Date(this.children[0].children[0].innerHTML.split('.').reverse().join('.') + '.2020'))/86400000)}</div><small>–î–Ω–µ–π –Ω–∞–∑–∞–¥</small></div>`
					else fillTable()
				}
			}
			
			if (onDutyToday.length != 0) id('info-block').innerHTML = `–°–µ–≥–æ–¥–Ω—è ${(onDutyToday.length > 1) ? '–¥–µ–∂—É—Ä—è—Ç' : '–¥–µ–∂—É—Ä–∏—Ç'}: ${onDutyToday.join(', ')}`
			else {
				lastDate = 0
				for (i of database){
					for (j of i.dates){
						if (new Date(j.split('.').reverse().join('.')) > lastDate) lastDate = new Date(j.split('.').reverse().join('.'))
					}
				}
				if (lastDate){
					lastDate = `${lastDate.getDate()}.${lastDate.getMonth()+1}.${lastDate.getFullYear()}`
					lastDuty = []
					for (i of database){
						for (j of i.dates){
							if (j == lastDate) lastDuty.push(i.name)
						}
					}
					if (new Date() < new Date(lastDate.split('.').reverse().join('.')))
						id('info-block').innerHTML = `${(lastDuty.length > 1) ? '–°–ª–µ–¥—É—é—â–∏–µ –¥–µ–∂—É—Ä–Ω—ã–µ' : '–°–ª–µ–¥—É—é—â–∏–π –¥–µ–∂—É—Ä–Ω—ã–π'}: ${lastDuty.join(', ')}`
					else 
						id('info-block').innerHTML = `–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ ${(lastDuty.length > 1) ? '–¥–µ–∂—É—Ä–∏–ª–∏' : '–¥–µ–∂—É—Ä–∏–ª'}: ${lastDuty.join(', ')}`
				}
			}
		}
		
		window.onload = function(){
			fillTable()
			id('form-date').value = `${new Date().getFullYear()}-${new Date().getMonth()+1}-${new Date().getDate()}`
			/*setTimeout(function(){
				id('header').style.transform = 'none'
			}, 850)*/
		}

	</script>

 </body>

 </html> 
